<html lang="en">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
  <title>12 Brian St Christmas</title>
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" crossorigin="anonymous"></script>
  <link href="styles.css" rel="stylesheet" />
  <!--
    Aziz, Light!
    Thank you Aziz.
  -->
</head>
<body>
  <main>
    <h1>Pick a sequence!</h1>
    <div class="buttons">
      <a class="rainbow" href="#" data-sequence="./playSequence/10">
        <i></i>
        <span>
        Rainbow
        </span>
      </a>
      <a class="crazy" href="#" data-sequence="./playSequence/51">
        <i></i>
        <span>
        Crazy Gradient
        </span>
      </a>
      <a class="blue" href="#" data-sequence="./playSequence/52">
        <i></i>
        <span>
        Blue
        </span>
      </a>
      <a class="purple" href="#" data-sequence="./playSequence/53">
        <i></i>
        <span>
        Purple
        </span>
      </a>
      <a class="red" href="#" data-sequence="./playSequence/54">
        <i></i>
        <span>
        Red
        </span>
      </a>
      <a class="orange" href="#" data-sequence="./playSequence/55">
        <i></i>
        <span>
        Orange
        </span>
      </a>
      <a class="yellow" href="#" data-sequence="./playSequence/56">
        <i></i>
        <span>
        Yellow
        </span>
      </a>
      <a class="aqua" href="#" data-sequence="./playSequence/58">
        <i></i>
        <span>
        Aqua
        </span>
      </a>
      <a class="green" href="#" data-sequence="./playSequence/57">
        <i></i>
        <span>
        Green
        </span>
      </a>
      <a class="bangarang" href="#" data-sequence="./playSequence/14">
        <i></i>
        <span>
        Bangarang!
        </span>
      </a>
      <a class="bluey" href="#" data-sequence="./playSequence/59">
        <i></i>
        <span>
        BLUEY!
        </span>
      </a>

    </div>
  </main>
  <script>
    let lastClick = null;

    const changeLights = url => {
      console.log('call', url)
      fetch(url, {
            method: 'POST',
            mode: 'cors',
            cache: 'no-cache',
            headers: {
              'Content-Type': 'application/json'
            },
          })
    }

    $(function() {
      $('.buttons a').click(e => {
        e.preventDefault();
        const url = $(e.currentTarget).data('sequence');
        if (Date.now() - lastClick > 1000) { // Prevent button from being hit repeatedly.
          changeLights(url);
          lastClick = Date.now();
        }
      })
    });

  </script>
</body>
